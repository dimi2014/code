<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Mon premier code super chouette</title>

<link rel="stylesheet" type="text/css" href="mystyle.css" />
<script type="text/javascript" src="js/queue.js" ></script>
<script type="text/javascript" src="js/d3.js" ></script>
<script>
	var colorPrec;
	var colorChange="red";
	function changeCouleur(){
		var fond = document.getElementById('fond');
		colorPrec = fond.getAttribute("fill");
		fond.setAttribute("fill",colorChange);
		colorChange = colorPrec;
	}
	function init(){
		
		queue()
			.defer(d3.xml, "svg/jpoilvilain.svg", "image/svg+xml")
			.await(charge);
		
	}
	
	/*charge le premier svg
	merci à http://bl.ocks.org/KoGor/8162640
	*/
	function charge(error, xml){
    	//Adding our svg file to HTML document
		var importedNode = document.importNode(xml.documentElement, true);
   	  	d3.select("#monSVG").node().appendChild(importedNode);
	}
</script>

</head>

<body onload="init();">
<h1>Mon super cours</h1>
<h2>1er exercice</h2>
<h3>ajouter du SVG</h3>
<svg version="1.1" id="Calque_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
	 width="800px" height="600px" viewBox="0 0 800 600" enable-background="new 0 0 800 600" xml:space="preserve">
<rect onclick="alert('toto il l\'est beau')" id="fond"  x="17.885" y="24.288" fill="#40A62B" width="774.82" height="569.785"/>
<text transform="matrix(1 0 0 1 171.1221 117.813)" font-family="'MyriadPro-Regular'" font-size="12">voilà  un beau SVG</text>
<image overflow="visible" width="1024" height="768" xlink:href="img/Desert.jpg"  transform="matrix(0.4025 0 0 0.3509 88.3887 153.7842)">
</image>
<polygon id="etoile" onclick="changeCouleur()" points="686.23,306.004 602.867,313.049 561.412,385.716 528.951,308.61 447.031,291.639 510.331,236.939 501.157,153.784 
	572.74,197.083 648.991,162.662 629.932,244.122 "/>
</svg>
<h2>2eme exercice</h2>
<h3>ajouter du SVG en dynamique</h3>
<div id="monSVG"></div>
</body>
</html>
